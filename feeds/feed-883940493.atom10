<?xml version="1.0" encoding="UTF-8"?>
<?xml-stylesheet href="http://feeds.feedburner.com/~d/styles/rss2full.xsl" type="text/xsl" media="screen"?><?xml-stylesheet href="http://feeds.feedburner.com/~d/styles/itemcontent.css" type="text/css" media="screen"?><rss xmlns:content="http://purl.org/rss/1.0/modules/content/" xmlns:wfw="http://wellformedweb.org/CommentAPI/" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:geo="http://www.w3.org/2003/01/geo/wgs84_pos#" xmlns:creativeCommons="http://backend.userland.com/creativeCommonsRssModule" xmlns:feedburner="http://rssnamespace.org/feedburner/ext/1.0" version="2.0">

<channel>
	<title>Muffin Research Labs</title>
	
	<link>http://muffinresearch.co.uk</link>
	<description>the personal blog of Stuart Colville covering modern web development techniques and best practices</description>
	<pubDate>Fri, 05 Dec 2008 00:19:54 +0000</pubDate>
	<generator>http://wordpress.org/?v=2.6.5</generator>
	<language>en</language>
			<geo:lat>51.1324</geo:lat><geo:long>0.2652</geo:long><creativeCommons:license>http://creativecommons.org/licenses/by-nc-nd/3.0/</creativeCommons:license><atom10:link xmlns:atom10="http://www.w3.org/2005/Atom" rel="self" href="http://feeds.feedburner.com/muffinresearch" type="application/rss+xml" /><feedburner:browserFriendly>This is an XML content feed. It is intended to be viewed in a newsreader or syndicated to another site, subject to copyright and fair use.</feedburner:browserFriendly><item>
		<title>Python 3.0 Released</title>
		<link>http://feeds.feedburner.com/~r/muffinresearch/~3/475180282/</link>
		<comments>http://muffinresearch.co.uk/archives/2008/12/04/python-30-released/#comments</comments>
		<pubDate>Thu, 04 Dec 2008 23:10:03 +0000</pubDate>
		<dc:creator>Stuart Colville</dc:creator>
		
		<category><![CDATA[Snippets]]></category>

		<guid isPermaLink="false">http://muffinresearch.co.uk/?p=423</guid>
		<description>So Python 3.0  is out - here&amp;#8217;s the list of what&amp;#8217;s new.  There&amp;#8217;s a lot in there and it specifically say it&amp;#8217;s incomplete (here&amp;#8217;s the changelog for comparison.). 
What I&amp;#8217;m most concerned about is the thought of having to maintain several versions of code to work with python 2.4/2.5/2.6 and python 3.0. Still [...]</description>
			<content:encoded><![CDATA[<p><a href="http://www.python.org/download/releases/3.0/">So Python 3.0  is out</a> - <a href="http://docs.python.org/3.0/whatsnew/3.0.html">here&#8217;s the list of what&#8217;s new</a>.  There&#8217;s a lot in there and it specifically say it&#8217;s incomplete (<a href="http://www.python.org/download/releases/3.0/NEWS.txt">here&#8217;s the changelog for comparison.</a>). </p>
<p>What I&#8217;m most concerned about is the thought of having to maintain several versions of code to work with python 2.4/2.5/2.6 and python 3.0. Still onwards and upwards.</p>
<div class="feedflare">
<a href="http://feeds.feedburner.com/~f/muffinresearch?a=QhiVO"><img src="http://feeds.feedburner.com/~f/muffinresearch?i=QhiVO" border="0"></img></a> <a href="http://feeds.feedburner.com/~f/muffinresearch?a=4tljO"><img src="http://feeds.feedburner.com/~f/muffinresearch?i=4tljO" border="0"></img></a> <a href="http://feeds.feedburner.com/~f/muffinresearch?a=ADFYO"><img src="http://feeds.feedburner.com/~f/muffinresearch?i=ADFYO" border="0"></img></a>
</div><img src="http://feeds.feedburner.com/~r/muffinresearch/~4/475180282" height="1" width="1"/>]]></content:encoded>
			<wfw:commentRss>http://muffinresearch.co.uk/archives/2008/12/04/python-30-released/feed/</wfw:commentRss>
		<feedburner:awareness>http://api.feedburner.com/awareness/1.0/GetItemData?uri=muffinresearch&amp;itemurl=http%3A%2F%2Fmuffinresearch.co.uk%2Farchives%2F2008%2F12%2F04%2Fpython-30-released%2F</feedburner:awareness><feedburner:origLink>http://muffinresearch.co.uk/archives/2008/12/04/python-30-released/</feedburner:origLink></item>
		<item>
		<title>BitTorrent and the Long Tail</title>
		<link>http://feeds.feedburner.com/~r/muffinresearch/~3/475158780/</link>
		<comments>http://muffinresearch.co.uk/archives/2008/12/04/bittorrent-and-the-long-tail/#comments</comments>
		<pubDate>Thu, 04 Dec 2008 23:01:35 +0000</pubDate>
		<dc:creator>Stuart Colville</dc:creator>
		
		<category><![CDATA[General]]></category>

		<category><![CDATA[social]]></category>

		<guid isPermaLink="false">http://muffinresearch.co.uk/?p=410</guid>
		<description>(SVG Long Tail Diagram by Hay Kranen via Wikipedia) 
BitTorrent is a highly useful technology that helps to share the burden of many people getting access to content available from the internet by distributing the load via a P2P network.
The big problem with bittorrent is that it&amp;#8217;s not great at providing access the Long Tail [...]</description>
			<content:encoded><![CDATA[<p><object data="http://muffinresearch.co.uk/svg/long_tail.svg" type="image/svg+xml" width="540px" height="280px"><img src="http://muffinresearch.co.uk/i/long_tail.png" height="280" width="540" alt="The Long Tail" /></object><br />
(SVG Long Tail Diagram by <a href="http://www.haykranen.com/">Hay Kranen</a> via Wikipedia) </p>
<p>BitTorrent is a highly useful technology that helps to share the burden of many people getting access to content available from the internet by distributing the load via a P2P network.</p>
<p>The big problem with bittorrent is that it&#8217;s not great at providing access the Long Tail of content. Before we continue here&#8217;s a very brief overview of the Long Tail. If you&#8217;ve not had the chance to read Chris Anderson&#8217;s book - <a href="http://www.amazon.co.uk/Long-Tail-Endless-Creating-Unlimited/dp/1844138518%3FSubscriptionId%3D02E5W5871AJF7PMMMS82%26tag%3Dmuffinresearc-21%26linkCode%3Dxm2%26camp%3D2025%26creative%3D165953%26creativeASIN%3D1844138518">The Long Tail</a> - I&#8217;d highly recommend it.</p>
<p>The definition of the Long Tail comes from a measurement of popularity as shown in the diagram above. The left hand side show the items that are most popular - think chart hits if you&#8217;re talking in terms of music. The right-hand part of the curve in the diagram above is the Long Tail. The Long Tail represents lots of niche choices (Any obscure or rare album would fit if in our musical example). </p>
<p>The reason why the Long Tail is important is that millions and millions of individual sales of products from the Long Tail adds up to a lot of money. Even if each item&#8217;s own popularity is minimal. The Internet makes the Long Tail market more of a success due to the fact of virtually infinite shelf space. Again sticking to music as an example if you&#8217;re offering downloads then you can afford to offer lots of niche albums as the cost of having them available is negligible. Where physical, finite shelf space is concerned you are only going to find more popular titles as shops need to stock what they know they can sell.</p>
<p>Bittorrent is not well suited to surfacing Long Tail content because Bittorrenting relies on there being someone who is seeding the data. For head content such this is not a problem - as popularity ensures the availability. However, if you&#8217;re trying to track down niche content - you might well find a torrent but you&#8217;ll find there&#8217;s no-one seeding the content in which case you lose. </p>
<p>BitTorrent cannot provide as much choice available to other means of distribution which is kind of strange as you often think of Bittorrent as providing endless choice at your fingertips - if you have mainstream tastes then it will work for you, if you don&#8217;t your satisfaction might be more limited.</p>
<p>Bittorrent is great for popular content where demand is high. It&#8217;s distributed approach makes it possible for large chunks of content to be made available to lots of people at once. As such for fresh and popular content it can be the perfect means of distribution but by virtue of how it works it will always cater more towards the head content.</p>
<div class="feedflare">
<a href="http://feeds.feedburner.com/~f/muffinresearch?a=BoLRO"><img src="http://feeds.feedburner.com/~f/muffinresearch?i=BoLRO" border="0"></img></a> <a href="http://feeds.feedburner.com/~f/muffinresearch?a=BkvEO"><img src="http://feeds.feedburner.com/~f/muffinresearch?i=BkvEO" border="0"></img></a> <a href="http://feeds.feedburner.com/~f/muffinresearch?a=MZCBO"><img src="http://feeds.feedburner.com/~f/muffinresearch?i=MZCBO" border="0"></img></a>
</div><img src="http://feeds.feedburner.com/~r/muffinresearch/~4/475158780" height="1" width="1"/>]]></content:encoded>
			<wfw:commentRss>http://muffinresearch.co.uk/archives/2008/12/04/bittorrent-and-the-long-tail/feed/</wfw:commentRss>
		<feedburner:awareness>http://api.feedburner.com/awareness/1.0/GetItemData?uri=muffinresearch&amp;itemurl=http%3A%2F%2Fmuffinresearch.co.uk%2Farchives%2F2008%2F12%2F04%2Fbittorrent-and-the-long-tail%2F</feedburner:awareness><feedburner:origLink>http://muffinresearch.co.uk/archives/2008/12/04/bittorrent-and-the-long-tail/</feedburner:origLink></item>
		<item>
		<title>Amazon now offers DRM free mp3s in the UK</title>
		<link>http://feeds.feedburner.com/~r/muffinresearch/~3/474579981/</link>
		<comments>http://muffinresearch.co.uk/archives/2008/12/03/amazon-now-offers-drm-free-mp3s-in-the-uk/#comments</comments>
		<pubDate>Wed, 03 Dec 2008 22:31:20 +0000</pubDate>
		<dc:creator>Stuart Colville</dc:creator>
		
		<category><![CDATA[Music]]></category>

		<category><![CDATA[Tech]]></category>

		<guid isPermaLink="false">http://muffinresearch.co.uk/?p=406</guid>
		<description>Amazon&amp;#8217;s Mp3 store is now available in the UK which is great news. They seem to have a lot of tracks and albums available and track pricing is variable but seems tio start at the 69p which undercuts Apple&amp;#8217;s iTunes music store by quite a bit. 
Amazon&amp;#8217;s tracks are DRM free tracks which means that [...]</description>
			<content:encoded><![CDATA[<p><img src="http://muffinresearch.co.uk/i/amazon-mp3.jpg" alt="Amazon's mp3 downloader" /></p>
<p>Amazon&#8217;s Mp3 store is now available in the UK which is great news. They seem to have a lot of tracks and albums available and track pricing is variable but seems tio start at the 69p which undercuts Apple&#8217;s iTunes music store by quite a bit. </p>
<p>Amazon&#8217;s tracks are <acronym title="Digital Rights Management">DRM</acronym> free tracks which means that you will always have access to your music. Whereas DRM tracks could become unplayable should the DRM service be switched off in the future. Think it won&#8217;t happen? Sadly there&#8217;s been several cases of DRM services being shutdown. <a href="http://news.cnet.com/8301-1023_3-9998504-93.html">MSN and Yahoo have both shut-down DRM based services in the past</a> so it&#8217;s a big problem potentially. Clearly if Amazon can negotiate their way around the DRM problem companies like Apple should be able to just as well. (Granted apple does have the iTunes Plus tracks which are DRM free but this is a Minor subset of their overall catalogue.)</p>
<p>Album pricing seems to start at around £3.00 which is surprisingly aggressive, and it&#8217;s good to see major players like iTunes getting some decent competition. Also right now there seems to be lots of recently released albums available for £3.00 such as the <a href="http://www.amazon.co.uk/gp/product/B001GTPI7O?ie=UTF8&#038;tag=muffinresearc-21&#038;linkCode=as2&#038;camp=1634&#038;creative=19450&#038;creativeASIN=B001GTPI7O">Kings Of Leon album - Only By The Night</a>. Can&#8217;t really complain at paying £3.00 for that. It&#8217;s £7.99 on the iTunes store.</p>
<p>The bit-rate is 256 kbps and whilst this is ok it would be good to see this upped in the future. Also I&#8217;d personally love to see the addition of open lossless formats such as <a href="http://flac.sourceforge.net/">flac</a>. Though I can see that this possibly has a limited audience.</p>
<p>To download the tracks a software downloader is required but crucially this is available for OSX, windows <em>and</em> Linux. Purchasing a track is straight forward enough - a download of a .amz file is triggered which you open with the downloader and it proceeds to download the tracks.</p>
<p>Provided their music catalogue continues to grow to match their CD market I&#8217;m pretty sure Amazon&#8217;s UK mp3 offering will be a success. And Apple needs to start to wake up to this competition - whilst alternative mp3 services such as 7Digitial might not be widely known to the average Joe - Amazon is well known and anyone who uses amazon is likely to find the mp3 store pretty quickly if they&#8217;d not already heard of it.</p>
<div class="feedflare">
<a href="http://feeds.feedburner.com/~f/muffinresearch?a=h6DVO"><img src="http://feeds.feedburner.com/~f/muffinresearch?i=h6DVO" border="0"></img></a> <a href="http://feeds.feedburner.com/~f/muffinresearch?a=e35GO"><img src="http://feeds.feedburner.com/~f/muffinresearch?i=e35GO" border="0"></img></a> <a href="http://feeds.feedburner.com/~f/muffinresearch?a=BnYmO"><img src="http://feeds.feedburner.com/~f/muffinresearch?i=BnYmO" border="0"></img></a>
</div><img src="http://feeds.feedburner.com/~r/muffinresearch/~4/474579981" height="1" width="1"/>]]></content:encoded>
			<wfw:commentRss>http://muffinresearch.co.uk/archives/2008/12/03/amazon-now-offers-drm-free-mp3s-in-the-uk/feed/</wfw:commentRss>
		<feedburner:awareness>http://api.feedburner.com/awareness/1.0/GetItemData?uri=muffinresearch&amp;itemurl=http%3A%2F%2Fmuffinresearch.co.uk%2Farchives%2F2008%2F12%2F03%2Famazon-now-offers-drm-free-mp3s-in-the-uk%2F</feedburner:awareness><feedburner:origLink>http://muffinresearch.co.uk/archives/2008/12/03/amazon-now-offers-drm-free-mp3s-in-the-uk/</feedburner:origLink></item>
		<item>
		<title>Dear lazyweb: In-ear headphone recommendations</title>
		<link>http://feeds.feedburner.com/~r/muffinresearch/~3/462797215/</link>
		<comments>http://muffinresearch.co.uk/archives/2008/11/23/dear-lazyweb-in-ear-headphone-recommendations/#comments</comments>
		<pubDate>Sun, 23 Nov 2008 13:56:16 +0000</pubDate>
		<dc:creator>Stuart Colville</dc:creator>
		
		<category><![CDATA[General]]></category>

		<guid isPermaLink="false">http://muffinresearch.co.uk/?p=405</guid>
		<description>My trusty Senheisser CX300 headphones have given up - one ear has lost volume considerably so I&amp;#8217;m in the market for a new set of in-ear headphones? Seeing as everyone and their mother has an ipod these days I&amp;#8217;m up for hearing recommendations of what you&amp;#8217;re using and why you like them.
I&amp;#8217;ve been happy with [...]</description>
			<content:encoded><![CDATA[<p>My trusty Senheisser CX300 headphones have given up - one ear has lost volume considerably so I&#8217;m in the market for a new set of in-ear headphones? Seeing as everyone and their mother has an ipod these days I&#8217;m up for hearing recommendations of what you&#8217;re using and why you like them.</p>
<p>I&#8217;ve been happy with the CX300&#8217;s but I&#8217;m probably not going to get another pair of the same, as I found that the rubber parts of them didn&#8217;t really fit that well and the size of my ears was somewhere between the smallest and the middle size. Sound quality was pretty good though so I&#8217;ll be up for something similar in that department.</p>
<div class="feedflare">
<a href="http://feeds.feedburner.com/~f/muffinresearch?a=qGnZN"><img src="http://feeds.feedburner.com/~f/muffinresearch?i=qGnZN" border="0"></img></a> <a href="http://feeds.feedburner.com/~f/muffinresearch?a=fCh9N"><img src="http://feeds.feedburner.com/~f/muffinresearch?i=fCh9N" border="0"></img></a> <a href="http://feeds.feedburner.com/~f/muffinresearch?a=9avoN"><img src="http://feeds.feedburner.com/~f/muffinresearch?i=9avoN" border="0"></img></a>
</div><img src="http://feeds.feedburner.com/~r/muffinresearch/~4/462797215" height="1" width="1"/>]]></content:encoded>
			<wfw:commentRss>http://muffinresearch.co.uk/archives/2008/11/23/dear-lazyweb-in-ear-headphone-recommendations/feed/</wfw:commentRss>
		<feedburner:awareness>http://api.feedburner.com/awareness/1.0/GetItemData?uri=muffinresearch&amp;itemurl=http%3A%2F%2Fmuffinresearch.co.uk%2Farchives%2F2008%2F11%2F23%2Fdear-lazyweb-in-ear-headphone-recommendations%2F</feedburner:awareness><feedburner:origLink>http://muffinresearch.co.uk/archives/2008/11/23/dear-lazyweb-in-ear-headphone-recommendations/</feedburner:origLink></item>
		<item>
		<title>Inspiring a Sense of Ownership</title>
		<link>http://feeds.feedburner.com/~r/muffinresearch/~3/448925067/</link>
		<comments>http://muffinresearch.co.uk/archives/2008/11/10/inspiring-a-sense-of-ownership/#comments</comments>
		<pubDate>Mon, 10 Nov 2008 23:26:54 +0000</pubDate>
		<dc:creator>Stuart Colville</dc:creator>
		
		<category><![CDATA[Life]]></category>

		<category><![CDATA[Snippets]]></category>

		<guid isPermaLink="false">http://muffinresearch.co.uk/?p=403</guid>
		<description>Former colleague Mike West talks about how inspiring a team&amp;#8217;s sense of ownership around a project is the key to great things happening: http://mikewest.org/2008/11/the-inspiration-of-ownership. Quality stuff.</description>
			<content:encoded><![CDATA[<p>Former colleague Mike West talks about how inspiring a team&#8217;s sense of ownership around a project is the key to great things happening: <a href="http://mikewest.org/2008/11/the-inspiration-of-ownership">http://mikewest.org/2008/11/the-inspiration-of-ownership</a>. Quality stuff.</p>
<div class="feedflare">
<a href="http://feeds.feedburner.com/~f/muffinresearch?a=uTPHN"><img src="http://feeds.feedburner.com/~f/muffinresearch?i=uTPHN" border="0"></img></a> <a href="http://feeds.feedburner.com/~f/muffinresearch?a=sRkaN"><img src="http://feeds.feedburner.com/~f/muffinresearch?i=sRkaN" border="0"></img></a> <a href="http://feeds.feedburner.com/~f/muffinresearch?a=Bx5UN"><img src="http://feeds.feedburner.com/~f/muffinresearch?i=Bx5UN" border="0"></img></a>
</div><img src="http://feeds.feedburner.com/~r/muffinresearch/~4/448925067" height="1" width="1"/>]]></content:encoded>
			<wfw:commentRss>http://muffinresearch.co.uk/archives/2008/11/10/inspiring-a-sense-of-ownership/feed/</wfw:commentRss>
		<feedburner:awareness>http://api.feedburner.com/awareness/1.0/GetItemData?uri=muffinresearch&amp;itemurl=http%3A%2F%2Fmuffinresearch.co.uk%2Farchives%2F2008%2F11%2F10%2Finspiring-a-sense-of-ownership%2F</feedburner:awareness><feedburner:origLink>http://muffinresearch.co.uk/archives/2008/11/10/inspiring-a-sense-of-ownership/</feedburner:origLink></item>
		<item>
		<title>Checking tarball contents before extraction</title>
		<link>http://feeds.feedburner.com/~r/muffinresearch/~3/448650620/</link>
		<comments>http://muffinresearch.co.uk/archives/2008/11/10/checking-tarball-contents-before-extraction/#comments</comments>
		<pubDate>Mon, 10 Nov 2008 18:05:22 +0000</pubDate>
		<dc:creator>Stuart Colville</dc:creator>
		
		<category><![CDATA[Code]]></category>

		<category><![CDATA[Linux/Unix]]></category>

		<guid isPermaLink="false">http://muffinresearch.co.uk/?p=402</guid>
		<description>When you are about to unpack a tarball you didn&amp;#8217;t create it&amp;#8217;s a good idea to run the -t flag instead of just assuming it&amp;#8217;s been packed in a sensible way.
tar -tzf foo.tar.gz
This lists all of the files in the tarball so you can be sure it&amp;#8217;s not going to extract to somewhere you didn&amp;#8217;t [...]</description>
			<content:encoded><![CDATA[<p>When you are about to unpack a tarball you didn&#8217;t create it&#8217;s a good idea to run the <code>-t</code> flag instead of just assuming it&#8217;s been packed in a sensible way.</p>
<p><code>tar -tzf foo.tar.gz</code></p>
<p>This lists all of the files in the tarball so you can be sure it&#8217;s not going to extract to somewhere you didn&#8217;t expect.</p>
<p>If you need tar to extract to a different location then you can use the <code>-C</code> flag to tell tar to cd to that directory first and then unpack the contents there.</p>
<div class="feedflare">
<a href="http://feeds.feedburner.com/~f/muffinresearch?a=H5waN"><img src="http://feeds.feedburner.com/~f/muffinresearch?i=H5waN" border="0"></img></a> <a href="http://feeds.feedburner.com/~f/muffinresearch?a=2RtPN"><img src="http://feeds.feedburner.com/~f/muffinresearch?i=2RtPN" border="0"></img></a> <a href="http://feeds.feedburner.com/~f/muffinresearch?a=d6uaN"><img src="http://feeds.feedburner.com/~f/muffinresearch?i=d6uaN" border="0"></img></a>
</div><img src="http://feeds.feedburner.com/~r/muffinresearch/~4/448650620" height="1" width="1"/>]]></content:encoded>
			<wfw:commentRss>http://muffinresearch.co.uk/archives/2008/11/10/checking-tarball-contents-before-extraction/feed/</wfw:commentRss>
		<feedburner:awareness>http://api.feedburner.com/awareness/1.0/GetItemData?uri=muffinresearch&amp;itemurl=http%3A%2F%2Fmuffinresearch.co.uk%2Farchives%2F2008%2F11%2F10%2Fchecking-tarball-contents-before-extraction%2F</feedburner:awareness><feedburner:origLink>http://muffinresearch.co.uk/archives/2008/11/10/checking-tarball-contents-before-extraction/</feedburner:origLink></item>
		<item>
		<title>Bash: Resolving Symlinks to Shellscripts</title>
		<link>http://feeds.feedburner.com/~r/muffinresearch/~3/416858693/</link>
		<comments>http://muffinresearch.co.uk/archives/2008/10/10/bash-resolving-symlinks-to-shellscripts/#comments</comments>
		<pubDate>Fri, 10 Oct 2008 14:54:21 +0000</pubDate>
		<dc:creator>Stuart Colville</dc:creator>
		
		<category><![CDATA[Code]]></category>

		<category><![CDATA[Linux/Unix]]></category>

		<guid isPermaLink="false">http://muffinresearch.co.uk/?p=400</guid>
		<description>Here&amp;#8217;s a way to resolve symlinks that call a bash shellscript.
The Problem
I like to be able to use something like this in my bash scripts:
SCRIPTDIR=$(dirname $0)
Which is great for a reference to where the script is, but it suffers from the problem that if you symlink to that script $0 now refers to the symlink [...]</description>
			<content:encoded><![CDATA[<p>Here&#8217;s a way to resolve symlinks that call a bash shellscript.</p>
<h3>The Problem</h3>
<p>I like to be able to use something like this in my bash scripts:</p>
<pre><code>SCRIPTDIR=$(dirname $0)</code></pre>
<p>Which is great for a reference to where the script is, but it suffers from the problem that if you symlink to that script <code>$0</code> now refers to the symlink rather than the actual script.</p>
<h3>The Solution</h3>
<p>The <del>hack</del> <ins>solution</ins> is to use the following instead:</p>
<pre><code>function resolve_symlink {
    SCRIPT=$1 NEWSCRIPT=''
    until [ "$SCRIPT" = "$NEWSCRIPT" ]; do
        if [ "${SCRIPT:0:1}" = '.' ]; then SCRIPT=$PWD/$SCRIPT; fi
        cd $(dirname $SCRIPT)
        if [ ! "${SCRIPT:0:1}" = '.' ]; then SCRIPT=$(basename $SCRIPT); fi
        SCRIPT=${NEWSCRIPT:=$SCRIPT}
        NEWSCRIPT=$(ls -l $SCRIPT | awk '{ print $NF }')
    done
    if [ ! "${SCRIPT:0:1}" = '/' ]; then SCRIPT=$PWD/$SCRIPT; fi
    echo $(dirname $SCRIPT)
}
DIR=$(resolve_symlink $0)
echo $DIR</code></pre>
<p>This updated version should fix the shortcomings of the previous version pointed out in the first comment by resolving links that are relative as well as link chains. Whilst readlink works for linux systems the script above should be portable across unixes which was the original intention.</p>
<p>If you can rely on python then there&#8217;s an even easier way:</p>
<pre><code>DIR=$(python -c "import os; print os.path.realpath(\"${0}\")")
echo $DIR</code></pre>
<p>But again portability is the key.</p>
<p>Find any issues or have improvements to add please let me know. </p>
<div class="feedflare">
<a href="http://feeds.feedburner.com/~f/muffinresearch?a=k3A5M"><img src="http://feeds.feedburner.com/~f/muffinresearch?i=k3A5M" border="0"></img></a> <a href="http://feeds.feedburner.com/~f/muffinresearch?a=JzoZM"><img src="http://feeds.feedburner.com/~f/muffinresearch?i=JzoZM" border="0"></img></a> <a href="http://feeds.feedburner.com/~f/muffinresearch?a=eFe2M"><img src="http://feeds.feedburner.com/~f/muffinresearch?i=eFe2M" border="0"></img></a>
</div><img src="http://feeds.feedburner.com/~r/muffinresearch/~4/416858693" height="1" width="1"/>]]></content:encoded>
			<wfw:commentRss>http://muffinresearch.co.uk/archives/2008/10/10/bash-resolving-symlinks-to-shellscripts/feed/</wfw:commentRss>
		<feedburner:awareness>http://api.feedburner.com/awareness/1.0/GetItemData?uri=muffinresearch&amp;itemurl=http%3A%2F%2Fmuffinresearch.co.uk%2Farchives%2F2008%2F10%2F10%2Fbash-resolving-symlinks-to-shellscripts%2F</feedburner:awareness><feedburner:origLink>http://muffinresearch.co.uk/archives/2008/10/10/bash-resolving-symlinks-to-shellscripts/</feedburner:origLink></item>
		<item>
		<title>Ubuntu: change editor globally</title>
		<link>http://feeds.feedburner.com/~r/muffinresearch/~3/413535876/</link>
		<comments>http://muffinresearch.co.uk/archives/2008/10/07/ubuntu-change-editor-globally/#comments</comments>
		<pubDate>Tue, 07 Oct 2008 06:43:25 +0000</pubDate>
		<dc:creator>Stuart Colville</dc:creator>
		
		<category><![CDATA[Code]]></category>

		<category><![CDATA[Linux/Unix]]></category>

		<guid isPermaLink="false">http://muffinresearch.co.uk/?p=399</guid>
		<description>I found the update-alternatives on my travels and very handy it is too especially when on a bytemark box by default the editor is set to &amp;#8220;joe&amp;#8221;. From the man page:
update-alternatives creates, removes, maintains and displays information about the symbolic links comprising the Debian alternatives system.
It is possible for several programs fulfilling the same or [...]</description>
			<content:encoded><![CDATA[<p>I found the <code>update-alternatives</code> on my travels and very handy it is too especially when on a bytemark box by default the editor is set to &#8220;joe&#8221;. From the man page:</p>
<blockquote><p>update-alternatives creates, removes, maintains and displays information about the symbolic links comprising the Debian alternatives system.</p>
<p>It is possible for several programs fulfilling the same or similar functions to be installed on a single system at the same time.  For example, many systems have several text editors installed at once.  This gives choice to the users of a system, allowing each to use a different editor, if desired, but makes it difficult for a program  to  make  a good choice of editor to invoke if the user has not specified a particular preference.</p>
<p>Debian&#8217;s  alternatives  system aims to solve this problem.  A generic name in the filesystem is shared by all files providing interchangeable functionality.  The alternatives system and the system administrator together determine which actual file is referenced by this generic name.  For example, if the text  editors  ed(1)  and  nvi(1)  are  both installed  on  the  system, the alternatives system will cause the generic name /sw/bin/editor to refer to /sw/bin/nvi by default.  The system administrator can override this and cause it to refer to /sw/bin/ed instead, and the alternatives system will not alter this setting until explicitly requested to do so.</p></blockquote>
<h3>To change the editor</h3>
<pre><code>sudo update-alternatives --config editor

There are 8 alternatives which provide `editor'.

  Selection    Alternative
-----------------------------------------------
*         1    /usr/bin/vim.tiny
          2    /bin/nano
 +        3    /usr/bin/joe
          4    /usr/bin/jmacs
          5    /usr/bin/jstar
          6    /usr/bin/jpico
          7    /usr/bin/rjoe
          8    /usr/bin/vim.basic

Press enter to keep the default[*], or type selection number: </code></pre>
<p>Done!</p>
<div class="feedflare">
<a href="http://feeds.feedburner.com/~f/muffinresearch?a=i0kXM"><img src="http://feeds.feedburner.com/~f/muffinresearch?i=i0kXM" border="0"></img></a> <a href="http://feeds.feedburner.com/~f/muffinresearch?a=MpsVM"><img src="http://feeds.feedburner.com/~f/muffinresearch?i=MpsVM" border="0"></img></a> <a href="http://feeds.feedburner.com/~f/muffinresearch?a=ENh8M"><img src="http://feeds.feedburner.com/~f/muffinresearch?i=ENh8M" border="0"></img></a>
</div><img src="http://feeds.feedburner.com/~r/muffinresearch/~4/413535876" height="1" width="1"/>]]></content:encoded>
			<wfw:commentRss>http://muffinresearch.co.uk/archives/2008/10/07/ubuntu-change-editor-globally/feed/</wfw:commentRss>
		<feedburner:awareness>http://api.feedburner.com/awareness/1.0/GetItemData?uri=muffinresearch&amp;itemurl=http%3A%2F%2Fmuffinresearch.co.uk%2Farchives%2F2008%2F10%2F07%2Fubuntu-change-editor-globally%2F</feedburner:awareness><feedburner:origLink>http://muffinresearch.co.uk/archives/2008/10/07/ubuntu-change-editor-globally/</feedburner:origLink></item>
		<item>
		<title>Linux: Changing UIDs and GIDs for a user</title>
		<link>http://feeds.feedburner.com/~r/muffinresearch/~3/401286999/</link>
		<comments>http://muffinresearch.co.uk/archives/2008/09/24/linux-changing-uids-and-gids-for-user/#comments</comments>
		<pubDate>Wed, 24 Sep 2008 00:41:51 +0000</pubDate>
		<dc:creator>Stuart Colville</dc:creator>
		
		<category><![CDATA[Code]]></category>

		<category><![CDATA[Linux/Unix]]></category>

		<guid isPermaLink="false">http://muffinresearch.co.uk/?p=397</guid>
		<description>Just had to do a quick switch over of UID and GIDs for a couple of users. 
I&amp;#8217;m using Puppet to manage server configurations and it&amp;#8217;s got some nice features for automating the set-up of users. Unfortunately when I initially set-up the puppet directives, I overlooked setting the UID for each user which means that [...]</description>
			<content:encoded><![CDATA[<p>Just had to do a quick switch over of <a rel="nofollow" href="http://en.wikipedia.org/wiki/User_identifier_(Unix)">UID</a> and <a rel="nofollow" href="http://en.wikipedia.org/wiki/Group_identifier_(Unix)">GIDs</a> for a couple of users. </p>
<p>I&#8217;m using <a href="http://reductivelabs.com/trac/puppet">Puppet</a> to manage server configurations and it&#8217;s got some nice features for automating the set-up of users. Unfortunately when I initially set-up the puppet directives, I overlooked setting the UID for each user which means that the UIDs assigned have been randomly created. As I want to maintain UIDs across all the boxes I&#8217;m using, it means there&#8217;s a need to migrate users&#8217;s uid&#8217;s and gids that are different.</p>
<p><strong>WARNING: Messing with UIDs and GIDs can be hazardous to your sanity if it all goes pear-shaped. Using any of the scripts that follow is done entirely at your own risk.</strong></p>
<h3>A bunch of commands to change UIDS and GIDS</h3>
<p>Here&#8217;s the commands to run as root to change the UID and GID for a user. Simply change the variables in angled brackets to match your settings:</p>
<pre><code>usermod -u &lt;NEWUID&gt; &lt;LOGIN&gt;
groupmod -g &lt;NEWGID&gt; &lt;GROUP&gt;
find / -user &lt;OLDUID&gt; -exec chown &lt;NEWUID&gt; {} \;
find / -group &lt;OLDGID&gt; -exec chgrp &lt;NEWGID&gt; {} \;</code></pre>
<p><code>usermod</code> and <code>groupmod</code> simply change the UID and GID for their respective named counterpart <code>usermod</code> also changes the UID for the files in the homedir but naturally we can&#8217;t assume the only place files have been created is in the user&#8217;s homedir. </p>
<p>The <code>find</code> command recurses the filesystem from / and changes everything with uid of OLDUID to be owned by NEWUID and them changes the group for the files owned by the OLDGROUP</p>
<h3>Swapping Users UIDs</h3>
<p>In my case user bar had a UID of 1001 and user foo had a UID of 1002 and I wanted to swap them over. To do that you have to run the changes with an intermediate step or everything will get in a right pickle. So much so it would be the point in the film where the &#8220;real you&#8221; enters the room and tries to strangle you.</p>
<ol>
<li>Change foo&#8217;s UID and GID from 1001 -> 1012</li>
<li>Change bar&#8217;s UID and GID from 1002 -> 1011</li>
<li>Change foo&#8217;s UID and GID from 1012 -> 1002</li>
<li>Change bar&#8217;s UID and GID from 1011 -> 1001</li>
</ol>
<p>These steps assume that 1012 and 1011 are not taken naturally. </p>
<p>There you have it. User foo now has a UID of 1002 and the foo group now has a GID of 1002 and user bar has a UID of 1001 and the group bar&#8217;s GID is now 1001 too. Phew!</p>
<div class="feedflare">
<a href="http://feeds.feedburner.com/~f/muffinresearch?a=UPV7L"><img src="http://feeds.feedburner.com/~f/muffinresearch?i=UPV7L" border="0"></img></a> <a href="http://feeds.feedburner.com/~f/muffinresearch?a=ktYdL"><img src="http://feeds.feedburner.com/~f/muffinresearch?i=ktYdL" border="0"></img></a> <a href="http://feeds.feedburner.com/~f/muffinresearch?a=5tKML"><img src="http://feeds.feedburner.com/~f/muffinresearch?i=5tKML" border="0"></img></a>
</div><img src="http://feeds.feedburner.com/~r/muffinresearch/~4/401286999" height="1" width="1"/>]]></content:encoded>
			<wfw:commentRss>http://muffinresearch.co.uk/archives/2008/09/24/linux-changing-uids-and-gids-for-user/feed/</wfw:commentRss>
		<feedburner:awareness>http://api.feedburner.com/awareness/1.0/GetItemData?uri=muffinresearch&amp;itemurl=http%3A%2F%2Fmuffinresearch.co.uk%2Farchives%2F2008%2F09%2F24%2Flinux-changing-uids-and-gids-for-user%2F</feedburner:awareness><feedburner:origLink>http://muffinresearch.co.uk/archives/2008/09/24/linux-changing-uids-and-gids-for-user/</feedburner:origLink></item>
		<item>
		<title>FAIL of the Week: Apple’s Invisible Transparency</title>
		<link>http://feeds.feedburner.com/~r/muffinresearch/~3/397324282/</link>
		<comments>http://muffinresearch.co.uk/archives/2008/09/19/fail-of-the-week-apples-invisible-transparency/#comments</comments>
		<pubDate>Fri, 19 Sep 2008 16:04:20 +0000</pubDate>
		<dc:creator>Stuart Colville</dc:creator>
		
		<category><![CDATA[Apple]]></category>

		<guid isPermaLink="false">http://muffinresearch.co.uk/?p=396</guid>
		<description>The Macbook Pro I was issued at work has been plagued with a nasty graphics issue ever since the 10.5.2 update. Prior to that there were also some big graphics issues which caused freezes and crashes which were cleared by the 10.5.3 update but in fixing those issue this new problem appeared.
The Symptoms
The problems experienced [...]</description>
			<content:encoded><![CDATA[<p>The Macbook Pro I was issued at work has been plagued with a nasty graphics issue ever since the 10.5.2 update. Prior to that there were also some big graphics issues which caused freezes and crashes which were cleared by the 10.5.3 update but in fixing those issue this new problem appeared.</p>
<h3>The Symptoms</h3>
<p>The problems experienced showed up in many different ways. For me the worst was a text-tearing issue where the display of text would get scrambled. For example if I was using texmate, lines would overlap when scrolling and the only way to temporarily clear it was to use cmd+a (which presumably caused a re-draw). To stop it completely required a logout. There was also a relationship with sleep modes as it often appeared after waking the machine from sleep.</p>
<p><img src="http://muffinresearch.co.uk/i/gfx-wierdness.png" alt="gfx FAIL" /></p>
<p>There were also occasions where the display was continually covered with white blocks that appeared as you scrolled. These appear in the terminal and places like embedded YouTube players in the browser making it difficult to get RickRolled.</p>
<h3>The FAIL</h3>
<p>Apple&#8217;s failing was to not publicly admit to there being a problem. This combined with the amount of time between the issue occuring and the fix being released made it incredibly frustrating. This main thread on discussions.apple.com was raised on a <a href="http://discussions.apple.com/thread.jspa?messageID=8123876&#038;tstart=0#8123876">back in February</a> and looking at the thread plenty of people had mainboards replaced and yet still the issue persisted like a bad smell emanating from a pair of birkenstocks worn all summer.</p>
<p>From the reports on the thread it also appears that only a very limited number of Apple&#8217;s technical staff had been advised of the issue. I pretty sure the frustration of many people waiting for a fix would have been significantly reduced if there had been a statement issued saying that work was being done to put it right.</p>
<p>The net result of not making a statement amounted to a lot of wasted time spent by MacBook Pro owners and Apple&#8217;s own uninformed staff trying to fix a problem with solutions that would never work.</p>
<p>I&#8217;m pleased it&#8217;s now fixed but seriously, a bit of transparency next time wouldn&#8217;t go amiss! It&#8217;s times like this when the openess and transparency of open source operating systems is much appreciated.</p>
<div class="feedflare">
<a href="http://feeds.feedburner.com/~f/muffinresearch?a=wcfwL"><img src="http://feeds.feedburner.com/~f/muffinresearch?i=wcfwL" border="0"></img></a> <a href="http://feeds.feedburner.com/~f/muffinresearch?a=j3WCL"><img src="http://feeds.feedburner.com/~f/muffinresearch?i=j3WCL" border="0"></img></a> <a href="http://feeds.feedburner.com/~f/muffinresearch?a=oeL1L"><img src="http://feeds.feedburner.com/~f/muffinresearch?i=oeL1L" border="0"></img></a>
</div><img src="http://feeds.feedburner.com/~r/muffinresearch/~4/397324282" height="1" width="1"/>]]></content:encoded>
			<wfw:commentRss>http://muffinresearch.co.uk/archives/2008/09/19/fail-of-the-week-apples-invisible-transparency/feed/</wfw:commentRss>
		<feedburner:awareness>http://api.feedburner.com/awareness/1.0/GetItemData?uri=muffinresearch&amp;itemurl=http%3A%2F%2Fmuffinresearch.co.uk%2Farchives%2F2008%2F09%2F19%2Ffail-of-the-week-apples-invisible-transparency%2F</feedburner:awareness><feedburner:origLink>http://muffinresearch.co.uk/archives/2008/09/19/fail-of-the-week-apples-invisible-transparency/</feedburner:origLink></item>
	<feedburner:awareness>http://api.feedburner.com/awareness/1.0/GetFeedData?uri=muffinresearch</feedburner:awareness></channel>
</rss><!-- Dynamic Page Served (once) in 0.776 seconds --><!-- Cached page served by WP-Cache -->
